<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Documentation by YARD 0.5.3</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>htmldoc-rails</h1>

<h2>Summary</h2>

<p>Generate PDFs from your Rails views using <a href="http://www.htmldoc.org">HTMLDoc</a>.</p>

<h2>Usage</h2>

<p>Let's say we've got this setup:</p>

<pre class="code"><span class='comment val'># controller</span>
<span class='class class kw'>class</span> <span class='FooController constant id'>FooController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
  <span class='def def kw'>def</span> <span class='bar identifier id'>bar</span>
    <span class='comment val'># render bar.html.erb</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>

<span class='comment val'># view - bar.html.erb</span>
<span class='lt op'>&lt;</span><span class='p identifier id'>p</span><span class='gt op'>&gt;</span><span class='Some constant id'>Some</span> <span class='content identifier id'>content</span> <span class='goes identifier id'>goes</span> <span class='here identifier id'>here</span><span class='lt op'>&lt;</span><span class='regexp val'>/p&gt;
</span></pre>

<p>Now let's say we want to give the user a regular HTML view when they go to <code>/foo/bar</code>, but a PDF file when they go to <code>/foo/bar.pdf</code>. We can use <code>respond_to</code> to differentiate between the two course of actions, but as for generating the PDF file itself, <code>htmldoc-rails</code> provides a special method called <code>render_pdf</code>. This method is responsible for piping a view through HTMLDoc and telling the action to return a PDF file. It also accepts options such as which view you want the PDF to be generated from, whether or not a download box should appear, and so on (you can find the possible options in the <a href="http://mcmire.github.com/htmldoc-rails/HtmldocRails/Controller.html#render_pdf-instance_method">documentation</a>). Since we want to use the HTML view to generate the PDF, all we have to say is this:</p>

<pre class="code"><span class='comment val'># controller</span>
<span class='class class kw'>class</span> <span class='FooController constant id'>FooController</span> <span class='lt op'>&lt;</span> <span class='ApplicationController constant id'>ApplicationController</span>
  <span class='def def kw'>def</span> <span class='bar identifier id'>bar</span>
    <span class='respond_to identifier id'>respond_to</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='wants identifier id'>wants</span><span class='bitor op'>|</span>
      <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='html identifier id'>html</span>
      <span class='wants identifier id'>wants</span><span class='dot token'>.</span><span class='pdf identifier id'>pdf</span> <span class='lbrace token'>{</span> <span class='render_pdf identifier id'>render_pdf</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>

<h2>Prerequisites</h2>

<ul>
<li>HTMLDoc 1.9.x</li>
<li>htmldoc gem</li>
</ul>

<h2>Installation</h2>

<p>First, you'll need to download, compile, and install the htmldoc executable. If you're on Mac or Linux, this is really easy. Just head on over to <a href="http://www.htmldoc.org/software.php">the HTMLDoc website</a>. You'll see a link to download 1.8, but don't even bother with that, since 1.8.27 was released way back in 2006 and doesn't support CSS or tables very well. These days new improvements are being done (however occasionally) on the 1.9.x branch, so you'll want to download the latest developer snapshot instead (it worked fine for us). Once you've done that, you should be able to just</p>

<pre class="code"><span class='dot token'>.</span><span class='div op'>/</span><span class='configure identifier id'>configure</span>
<span class='make identifier id'>make</span>
<span class='sudo identifier id'>sudo</span> <span class='make identifier id'>make</span> <span class='install identifier id'>install</span>
</pre>

<p>If you happen to be on Windows, well, you aren't so lucky. If you're fine with using 1.8, you can find a pre-compiled copy either from the HTMLDoc website or from Cygwin. If you really want a version of 1.9, you'll have to look around -- possibly someone has been generous enough to put one out there.</p>

<p>Once you've got the htmldoc executable installed, you'll need the htmldoc Ruby gem, which provides a thin wrapper around the executable. Just</p>

<pre class="code"><span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='htmldoc identifier id'>htmldoc</span>
</pre>

<p>Finally, you can install this gem:</p>

<ul>
<li><code>gem install htmldoc-rails</code> (probably as root)</li>
<li>Add <code>config.gem 'htmldoc-rails'</code> to your environment.rb file</li>
</ul>

<h2>Compatibility</h2>

<p>This gem has been tested successfully on Rails 2.1.2, 2.2.3, and 2.3.5 under Ruby 1.8.6, 1.8.7, and 1.9.1.</p>

<h2>I found a bug!</h2>

<p>Great! File a <a href="http://github.com/mcmire/htmldoc-rails/issues">Github issue</a> so that I am aware of the problem and I will try to fix it as soon as I can. If you're able to figure out a solution on your own, feel free to write a patch and send it to me, or fork the <a href="http://github.com/mcmire/htmldoc-rails">project on Github</a> and send me a pull request. Bonus points if you write tests -- that helps me out a lot.</p>

<p>If you need to get in contact with me, you can <a href="http://twitter.com/mcmire">find me on Twitter</a> or <a href="mailto:elliot.winkler@gmail.com">send me an email</a>.</p>

<h2>Author</h2>

<p>(c) 2008-2010 Elliot Winkler. See LICENSE for details.</p></div></div>
    
    <div id="footer">
  Generated on Thu Feb 11 22:59:02 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.3 (ruby-1.8.6).
</div>

  </body>
</html>